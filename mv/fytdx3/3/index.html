<!DOCTYPE html>
<html>
<head>
<title>风雨天地行之一&nbsp;&nbsp;（风雨）[视频]</title>
</head>
<body style="background-color: white;">
<div style="text-align: center;margin-top: 90px;margin-bottom:50px;padding:11px">
    <h1 style="font-size: 4em">风雨天地行之三&nbsp;&nbsp;（风雨）</h1>
</div>

<div style="text-align: center;margin-bottom: 20px;">
<video controls id="video" src="https://mingfei618.gitee.io/flgzx/mv/fytdx/3.mp4" style="display: inline-block;width: 90%;" preload="none" data-src="video.png"></video>
</div>

<div style="position: relative;top: 0px;text-align: center"> 
<div  style="position: absolute;top: 0px;left: 0px;opacity: 0.1;width: 100%;height: 100%;"></div>
    <img data-src="1.png" width="90%">
</div>

<div style="margin-top: 20px;">
    <div style="display: inline-block;width: 5%;height: 1px;"></div> 
    <a href="../2/index.html" style="font-size: 2.5em;display: inline-block;width: 90%;">上一个视频：风雨天地行之二&nbsp;&nbsp;（清音）</a>
 </div>
 <div style="margin-top: 20px;">
    <div style="display: inline-block;width: 5%;height: 1px;"></div> 
    <a href="../4/index.html" style="font-size: 2.5em;display: inline-block;width: 90%;">下一个视频：风雨天地行之四&nbsp;&nbsp;（历劫）</a>
 </div>



<div style="text-align: center;"><img id="loading" data-src="loading.png" width="90%"></div>
<div style="height: 160px;"></div>
</body>
<script>
       var imgUrl = "https://mingfei618.gitee.io/flgzx/mv/fytdx/"; 
	var loadingImgUrl = "https://mingfei618.gitee.io/flgzx/";
	var githubUrl = "github.io";
		
	var realUrl = window.location.host;
	var isGithubPage = false;
	if(realUrl.indexOf(githubUrl ) != -1  ){
	    isGithubPage = true;
	}   

	var loadingImgNode = document.getElementById("loading");
	var videoNode = document.getElementById("video");
	if(isGithubPage == true){
		loadingImgNode.src = loadingImgUrl + loadingImgNode.getAttribute("data-src");
		videoNode.poster =  imgUrl + videoNode.getAttribute("data-src");
	} else {
		loadingImgNode.src = "../"+loadingImgNode.getAttribute("data-src");
		videoNode.poster =  "../"+videoNode.getAttribute("data-src");
	}

	var imgs = document.getElementsByTagName("img");
        preload(0,imgs);   

        function preload(index,imgs){
             if(index>=imgs.length-1){
		 loadingImgNode.parentNode.style.display = "none";
                 return;
             }
             var image = new Image();
             image.onload = function() {
                 imgs[index].src = image.src;
                 preload(index+1, imgs);
             }
	     if(isGithubPage == true){
			image.src = imgUrl  + imgs[index].getAttribute("data-src");
	     } else {
			image.src = imgs[index].getAttribute("data-src");
	     }	
             
        }
     </script>
</html>
